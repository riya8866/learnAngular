<div class="form-container">
  <form [formGroup]="userForm" (ngSubmit)="submit()" novalidate>

    <!-- First Name -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>First Name</mat-label>
      <input matInput placeholder="First Name" formControlName="firstName" />
      <mat-error *ngIf="userForm.controls['firstName'].invalid && (userForm.controls['firstName'].touched || userForm.controls['firstName'].dirty)">
       <span *ngIf="userForm.controls['firstName'].errors?.['required']">First Name is required</span>
      <span *ngIf="userForm.controls['firstName'].errors?.['pattern']">Only letters allowed, minimum 3 characters</span>
        </mat-error>
    </mat-form-field>

    <!-- Last Name -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>Last Name</mat-label>
      <input matInput placeholder="Last Name" formControlName="lastName" />
      <mat-error *ngIf="userForm.controls['lastName'].invalid && (userForm.controls['lastName'].touched || userForm.controls['lastName'].dirty)">
       <span *ngIf="userForm.controls['lastName'].errors?.['required']">Last Name is required</span>
      <span *ngIf="userForm.controls['lastName'].errors?.['pattern']">Only letters and spaces allowed, minimum 3 characters</span>
        </mat-error>
    </mat-form-field>

    <!-- Username -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>Username</mat-label>
      <input matInput placeholder="Username" formControlName="userName" />
      <mat-error *ngIf="userForm.controls['userName'].invalid && (userForm.controls['userName'].touched || userForm.controls['userName'].dirty)">
       <span *ngIf="userForm.controls['userName'].errors?.['required']">Username is required</span>
      <span *ngIf="userForm.controls['userName'].errors?.['pattern']">Only letters, numbers, underscores (_) and commas (,) allowed. 4-15 characters.</span>
        </mat-error>
    </mat-form-field>

    <!-- Password -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>Password</mat-label>
      <input matInput placeholder="Password" type='password' formControlName="password" />
      <mat-error *ngIf="userForm.controls['password'].invalid && (userForm.controls['password'].touched || userForm.controls['password'].dirty)">
       <span *ngIf="userForm.controls['password'].errors?.['required']">Password is required</span>
      <span *ngIf="userForm.controls['password'].errors?.['pattern']">Only letters, numbers, underscores (_) and commas (,) allowed. 4-15 characters.</span>
        </mat-error>
    </mat-form-field>

    <!-- Confirm Password -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>Confirm Password</mat-label>
      <input matInput placeholder="Confirm Password" type='password' formControlName="confirmPassword" />
         <!-- Required error -->
  <mat-error *ngIf="userForm.controls['confirmPassword'].hasError('required') &&
                  (userForm.controls['confirmPassword'].touched || userForm.controls['confirmPassword'].dirty)">
    Enter Confirm Password
  </mat-error>

  <!-- Password mismatch error from group-level validator -->
  <mat-error *ngIf="userForm.hasError('passwordMismatch') &&
                  (userForm.controls['confirmPassword'].touched || userForm.controls['confirmPassword'].dirty)">
    Password Mismatch
  </mat-error>
    </mat-form-field>

    <!-- City -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>City</mat-label>
      <input matInput placeholder="City" formControlName="city" />
     <mat-error *ngIf="userForm.controls['city'].invalid && (userForm.controls['city'].touched || userForm.controls['city'].dirty)">
       <span *ngIf="userForm.controls['city'].errors?.['required']">City is required</span>
      <span *ngIf="userForm.controls['city'].errors?.['pattern']">Only letters and spaces allowed, minimum 3 characters</span>
        </mat-error>
    </mat-form-field>

    <!-- State -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>State</mat-label>
      <input matInput placeholder="State" formControlName="state" />
      <mat-error *ngIf="userForm.controls['state'].invalid && (userForm.controls['state'].touched || userForm.controls['state'].dirty)">
        <span *ngIf="userForm.controls['state'].errors?.['required']">State is required</span>
      <span *ngIf="userForm.controls['state'].errors?.['pattern']">Only letters and spaces allowed, minimum 3 characters</span>
        </mat-error>
    </mat-form-field>

    <!-- Zip -->
    <mat-form-field appearance="fill" class="name">
      <mat-label>Zip</mat-label>
      <input matInput placeholder="Zip Code" formControlName="zip" />
      <mat-error *ngIf="userForm.controls['zip'].invalid && (userForm.controls['zip'].touched || userForm.controls['zip'].dirty)">
     <span *ngIf="userForm.controls['zip'].errors?.['required']">Zip Code is required</span>
      <span *ngIf="userForm.controls['zip'].errors?.['pattern']">Zip Code should be of 6 digits</span>
    </mat-error>
    </mat-form-field>

    <!-- Terms -->
    <mat-checkbox class="terms-checkbox" formControlName="terms">
      I accept the terms and conditions
    </mat-checkbox>
<mat-error *ngIf="(userForm.controls['terms'].invalid && (userForm.controls['terms'].touched || userForm.controls['terms'].dirty))">
  You must accept the terms and conditions
</mat-error>


    <!-- Submit -->
    <button mat-raised-button color="primary" type="submit" [disabled]="userForm.invalid">
      Submit
    </button>
  </form>
<br><br>
 <!-- Search -->
  <form [formGroup]="searches">
    <mat-form-field appearance="fill" class="name">
      <mat-label>Debouncing Search</mat-label>
      <input matInput placeholder="Search" formControlName="searchControl" />
      
    </mat-form-field>
    </form>

</div>
